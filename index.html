<!DOCTYPE html>
<html>
<head>
	<title>game</title>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<link rel="stylesheet" type="text/css" href="css/layout.css">
</head>
<body>
	<main class="layout-contant">
		<div class="contant-primary">
			<div class="left-contaniner">
				<div class="score_bg">
					<div class="star-blank-box">
						<i class="star-blank star1"></i>
						<i class="star-blank star2"></i>
						<i class="star-blank star3"></i>
					</div>
					<div class="user-bg"></div>
					<div class="balance-box">
						<p class="account clearfix">
							<span>账户余额:</span>
							<span class="number">88888</span>
							<span class="unit">代币</span>
						</p>
						<p class="integral-box">
							<span>疯玩积分:</span>
							<span class="number">88888</span>
						</p>
					</div>
					<ul class="text-circle">
						<li class="c1"></li>
						<li class="c2"></li>
						<li class="c3"></li>
						<li class="c4"></li>
						<li class="c5"></li>
						<li class="c6"></li>
						<li class="c7"></li>
						<li class="c8"></li>
						<li class="c9"></li>
						<li class="c10"></li>
						<li class="c11"></li>
						<li class="c12"></li>
						<li class="c13"></li>
						<li class="c14"></li>
						<li class="c15"></li>
						<li class="c16"></li>
						<li class="c17"></li>
						<li class="c18"></li>
						<li class="c19"></li>
						<li class="c20"></li>
						<li class="c21"></li>
						<li class="c22"></li>
						<li class="c23"></li>
						<li class="c24"></li>
						<li class="c25"></li>
					</ul>
					<ul class="text-circle">
						<li class="c1"></li>
						<li class="c2"></li>
						<li class="c3"></li>
						<li class="c4"></li>
						<li class="c5"></li>
						<li class="c6"></li>
						<li class="c7"></li>
						<li class="c8"></li>
						<li class="c9"></li>
						<li class="c10"></li>
						<li class="c11"></li>
						<li class="c12"></li>
						<li class="c13"></li>
						<li class="c14"></li>
						<li class="c15"></li>
						<li class="c16"></li>
						<li class="c17"></li>
						<li class="c18"></li>
						<li class="c19"></li>
						<li class="c20"></li>
						<li class="c21"></li>
						<li class="c22"></li>
						<li class="c23"></li>
						<li class="c24"></li>
						<li class="c25"></li>
					</ul>
					<ul class="balanc-circle">
						<li class="c1"></li>
						<li class="c2"></li>
						<li class="c3"></li>
						<li class="c4"></li>
						<li class="c5"></li>
						<li class="c6"></li>
						<li class="c7"></li>
						<li class="c8"></li>
						<li class="c9"></li>
						<li class="c10"></li>
						<li class="c11"></li>
						<li class="c12"></li>
						<li class="c13"></li>
						<li class="c14"></li>
						<li class="c15"></li>
						<li class="c16"></li>
						<li class="c17"></li>
						<li class="c18"></li>
						<li class="c19"></li>
						<li class="c20"></li>
						<li class="c22"></li>
						<li class="c23"></li>
						<li class="c24"></li>
						<li class="c25"></li>
						<li class="c26"></li>
						<li class="c27"></li>
						<li class="c28"></li>
						<li class="c29"></li>
						<li class="c30"></li>
						<li class="c31"></li>
						<li class="c32"></li>
						<li class="c33"></li>
						<li class="c34"></li>
						<li class="c35"></li>
						<li class="c36"></li>
						<li class="c37"></li>
						<li class="c38"></li>
						<li class="c39"></li>
						<li class="c40"></li>
						<li class="c41"></li>
						<li class="c42"></li>
						<li class="c43"></li>
						<li class="c44"></li>
						<li class="c45"></li>
						<li class="c46"></li>
						<li class="c47"></li>
						<li class="c48"></li>
						<li class="c49"></li>
					</ul>
					<ul class="balanc-circle balanc-circle2">
						<li class="c1"></li>
						<li class="c2"></li>
						<li class="c3"></li>
						<li class="c4"></li>
						<li class="c5"></li>
						<li class="c6"></li>
						<li class="c7"></li>
						<li class="c8"></li>
						<li class="c9"></li>
						<li class="c10"></li>
						<li class="c11"></li>
						<li class="c12"></li>
						<li class="c13"></li>
						<li class="c14"></li>
						<li class="c15"></li>
						<li class="c16"></li>
						<li class="c17"></li>
						<li class="c18"></li>
						<li class="c19"></li>
						<li class="c20"></li>
						<li class="c22"></li>
						<li class="c23"></li>
						<li class="c24"></li>
						<li class="c25"></li>
						<li class="c26"></li>
						<li class="c27"></li>
						<li class="c28"></li>
						<li class="c29"></li>
						<li class="c30"></li>
						<li class="c31"></li>
						<li class="c32"></li>
						<li class="c33"></li>
						<li class="c34"></li>
						<li class="c35"></li>
						<li class="c36"></li>
						<li class="c37"></li>
						<li class="c38"></li>
						<li class="c39"></li>
						<li class="c40"></li>
						<li class="c41"></li>
						<li class="c42"></li>
						<li class="c43"></li>
						<li class="c44"></li>
						<li class="c45"></li>
						<li class="c46"></li>
						<li class="c47"></li>
						<li class="c48"></li>
						<li class="c49"></li>
					</ul>
				</div>
				<div class="user-name">
					<span class="name">user name</span>
				</div>
				<div class="earphone_bg"></div>
			</div>
			<div class="right-contaniner">
				<section class="control-main">
					<div class="starball"></div>
					<div class="play-bg">
						<div class="recharge-box play-game">
							<div class="round-bg" id="js-gameplay"></div>
							<div class="erwm-round-bg" style="display:none">
								<div class="erwm">

								</div>
								<p class="money-number">充值2元</p>
							</div>
						</div>
					</div>
					<div class="recharge-bg">
						<div class="recharge-box account-recharge">
							<div class="round-bg" id="js-recharge"></div>
							<div class="erwm-round-bg" style="display:none">
								<div class="erwm">

								</div>
								<p class="money-number">充值4元</p>
							</div>
						</div>
						<div class="recharge-erwm3" style="display: none">
							<div class="erwm-round-bg">
								<div class="erwm">

								</div>
								<p class="money-number">充值10元</p>
							</div>
						</div>
						<div class="automaton-box">
							<div class="slide-automaton"></div>
						</div>
						<div class="star-twinkle twinkle3"></div>
						<div class="star-twinkle twinkle4"></div>
						<div class="star-twinkle twinkle3"></div>
						<div class="star-twinkle twinkle4"></div>
					</div>

					<div class="rocket-box">
						<div class="slide-rocket"></div>
					</div>
				</section>
				<div class="sign-out"></div>
			</div>
			<div class="star-twinkle twinkle1"></div>
			<div class="star-twinkle twinkle2"></div>
			<div class="star-twinkle twinkle1"></div>
			<div class="star-twinkle twinkle2"></div>
			
		</div>
		<!-- <div class="pop-main" id="pop-main" style="display:none">
			<div class="pop-primary swashIn">
				<div class="number"><span class="text">5</span></div>
				<a href="javascript:;" class="btn-playgame" id="btn-playgame"></a>
			</div>
		</div> -->
		<!-- <div class="pop-main" id="pop-redpacket">
			<div class="pop-primary swashIn">
				<div class="user-redpacket">
					恭喜您,
					<span class="user-name">xxx</span>
					获得了
					<span class="gold-number">2</span>
					个疯玩代币
				</div>
				<div class="user-bg">
					<img src="images/star_globe.png" width="100%" height="auto">
				</div>
				<a href="javascript:;" class="btn-playgame" id="close-redpacket"></a>
			</div>
		</div> -->
	</main>
	<!-- <script src="script/jquery-2.1.4.js"></script> -->
	<script src="script/zepto.js"></script>
	<script src="script/zepto-touch.js"></script>
	<!-- <script type="text/javascript" src="script/main.js"></script> -->
	<script type="text/javascript">
		
		$('#js-recharge').on('click',function(event){ //充值二维码
			event.stopPropagation();
			$('.round-bg').hide();
			$('.erwm-round-bg').show();
			$('.recharge-erwm3').show();
		});
		$('body').on('click',function(){
			$('.round-bg').show();
			$('.erwm-round-bg').hide();
			$('.recharge-erwm3').hide();
		});

		$('#js-gameplay').on('click',function(event){
			var that = this;
			event.stopPropagation();
			$(this).addClass('diasble');
			setTimeout(function(){
				$(that).removeClass('diasble');
			},1000);

			DialogShow({
				popType:'CountDown', //redPacket为红包弹窗，CountDown为倒计时红包
				userName:false,
				gameGold:false,
				imgUrl:false,
				onplay:function(){ //点击立即体验或开始游戏时触发事件
					DialogShow.prototype.hint.errorShow({ //错误时触发
						str:'您的余额不够了',
						time:2000
					});
				},
				CountDown:function(){ //倒计时结束后触发事件
					alert(1);
				}
			});
		});

		$(function(){ //跑马灯
			var num = 0;
				setInterval(function(){
					num++
					$('.balanc-circle2').find('li').removeClass('marquee');
					$('.balanc-circle2').find('li').eq(num).addClass('marquee');
					if(num == 48){
						$('.balanc-circle2').find('li').removeClass('marquee');
						$('.balanc-circle2').find('li').eq(0).addClass('marquee');
						num = 0;
					}
				},50);

		});

		function DialogShow(option){ //弹窗
			var bar = {
					htmlArray:[],
					num:5
				}
				switch(option.popType){
					case 'CountDown':
						bar.htmlArray.push('<div class="pop-main" id="pop-CountDown">');
						bar.htmlArray.push('<div class="pop-primary">');
						bar.htmlArray.push('<div class="number"><span class="text">5</span></div>');
						bar.htmlArray.push('<a href="javascript:;" class="btn-playgame" id="btn-playgame"></a>');
						bar.htmlArray.push('</div>');
						bar.htmlArray.push('</div>');
						$('body').append(bar.htmlArray.join(''));
					break;
					case 'redPacket':
						bar.htmlArray.push('<div class="pop-main" id="pop-redPacket">');
						bar.htmlArray.push('<div class="pop-primary swashIn">');			
						bar.htmlArray.push('<div class="user-redpacket">');
						bar.htmlArray.push('<span>恭喜您,</span>');
						bar.htmlArray.push('<span class="user-name">'+option.userName+'</span>');
						bar.htmlArray.push(	'<span>获得了</span>');
						bar.htmlArray.push('<span class="gold-number">'+option.gameGold+'</span>');
						bar.htmlArray.push('<span>个疯玩代币</span>');
						bar.htmlArray.push('</div>');					
						bar.htmlArray.push('<div class="user-bg">');			
						bar.htmlArray.push('<img src="'+option.imgUrl+'" width="100%" height="auto">');
						bar.htmlArray.push('</div>');				
						bar.htmlArray.push('<a href="javascript:;" class="btn-playgame" id="close-redpacket"></a>');					
						bar.htmlArray.push('</div>');
						bar.htmlArray.push('</div>')
						$('body').append(bar.htmlArray.join(''));
					break;
			}
			var	interval setInterval(function(){
					bar.num--
					if(bar.num==0){
						$('.pop-primary >.number').html('<span class="text vanishIn" style="font-style:italic">GO</span>');
					}else if(bar.num<0){
						$('#pop-CountDown').remove();
						clearInterval(interval);
						bar.num=5;
					}else{
						$('.pop-primary >.number').html('<span class="text vanishIn">'+bar.num+'</span>');

					}
				},1000);

				$('#btn-playgame').on('click',function(event){
					event.stopPropagation();
					clearInterval(interval);
					$('#pop-CountDown').remove();
					$('#pop-redPacket').remove();
					option.onplay();
				});
				$('#close-redpacket').on('click',function(event){
					$('#pop-CountDown').remove();
					$('#pop-redPacket').remove();
					event.stopPropagation();
					clearInterval(interval);
					option.onplay();
				});
				$('body').on('click',function(){
					clearInterval(interval);
					$('#pop-CountDown').remove();
					$('#pop-redPacket').remove();
				});
		}
		DialogShow.prototype.hint={
			errorShow:function(hint){ //错误提示
				var $html = '<div class="pop-small-hint spaceInDown" id="log-hint">'
								+'<span class="txt">'
								+ hint.str
								+'</span>'
							'</div>'
					$('body').append($html);

					setTimeout(function(){
						$('#log-hint').removeClass('spaceInDown').addClass('spaceOutUp');
					},hint.time);
					clearTimeout();

					setTimeout(function(){
						$('#log-hint').remove();
					},hint.time);
					clearTimeout();
			},
			hidePop:function(){
				$('#pop-CountDown').remove();
				$('#pop-redPacket').remove();
			}
		}

		/*DialogShow({
			popType:'redPacket', //redPacket为红包弹窗，CountDown为倒计时红包
			userName:'xxxxx', // 账户名字
			gameGold:2,//金币个数
			imgUrl:'images/star_globe.png',//账户头像路径
			onplay:function(){ //点击立即体验或开始游戏时触发事件
				DialogShow.prototype.hint.errorShow({ //错误时触发
						str:'您的余额不够了',
						time:2000 
					});
			}
		});*/
		
	</script>
</body>
</html>